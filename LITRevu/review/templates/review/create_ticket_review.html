{% extends 'base.html' %}
{% block content %}
{% load crispy_forms_tags %}
  <div class="px-5 py-2 container">
    <div class="white-background">
      <div class="px-5 py-2 container border border-2 border-dark rounded-4">
        <div class="row pt-1 pb-3">
          <h1 class="col text-center">Créer la demande de critique et une critique</h1>
        </div>

        <form class="row pt-1 pb-3" method="post" enctype="multipart/form-data">
          {% csrf_token %}

          <div class="px-5 py-2 container border border-2 border-dark rounded-4">
            <div class="row py-1">
              <h2 class="col text-center">Demande de critique</h2>
            </div>
            <div class="row py-1">{{ ticket_form|crispy }}</div>
          </div>

          <div class="px-5 py-2 container border border-2 border-dark rounded-4">
            <div class="row py-1">
              <h3 class="col">Critique</h3>
            </div>
            <div class="row py-1">{{ review_form|crispy }}</div>
            <div class="form-group row">
              <label for="ratingInput" class="col-form-label col-auto">Notation </label>
              <div class="col-auto" id="rating-options">
          <!-- Affichage des étoiles -->
                <div class="rating-stars" id="ratingStars">
                  {% for i in "*****" %}
                    <span class="star" data-rating="{{ forloop.counter }}"
                    >{{ '&#9733;' }}</span
                      >
                  {% endfor %}
                </div>

                <input
                  type="hidden"
                  name="rating"
                  id="ratingInput"
                  value="{{ review.rating }}"
                />
              </div>
            </div>
            <div class="row py-1 justify-content-end">
              <button class="col-2 btn btn-outline-secondary" type="submit">
                Publier
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
{% endblock content %}
